<!DOCTYPE html>
<html>
<head>
    <title>Event Registration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        form {
            width: 300px;
            margin-top: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input[type="text"],
        input[type="email"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        button {
            background-color: #007367;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #3D6D5A;
        }
    </style>
</head>
<body>
    <h2>Event Registration</h2>
    <div id="eventDetails"></div>
    <form id="registrationForm">
        <label for="studentName">Student Name:</label><br>
        <input type="text" id="studentName" name="studentName"><br>
        <label for="studentID">Student ID:</label><br>
        <input type="text" id="studentID" name="studentID"><br>
        <label for="studentEmail">GITAM Email:</label><br>
        <input type="email" id="studentEmail" name="studentEmail"><br>
        <button type="button" onclick="submitRegistration()">Register</button>
    </form>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const eventName = urlParams.get('event');
        const category = urlParams.get('category');

        document.getElementById('eventDetails').innerHTML = `<p>Event: ${eventName}</p><p>Category: ${category}</p>`;

        function submitRegistration() {
            let studentName = document.getElementById("studentName").value;
            let studentID = document.getElementById("studentID").value;
            let studentEmail = document.getElementById("studentEmail").value;
            let gitamEmailPattern = /^[a-zA-Z0-9._%+-]+@gitam\.in$/;

            if (!studentName || !studentID || !gitamEmailPattern.test(studentEmail)) {
                alert("Invalid details. Please use your GITAM email and provide valid information.");
                return;
            } else {
              //example data entry.
              const registrationData = {
                eventName: eventName,
                category: category,
                studentName: studentName,
                studentID: studentID,
                studentEmail: studentEmail
              };

              console.log("Registration Data:", registrationData);
              alert("Registered Successfully!");
              // You can add code here to send the registrationData to a server
            }
        }
    </script>
</body>
</html>